# Что нужно сделать?

добавить в Vagrantfile еще дисков;
сломать/починить raid;
собрать R0/R5/R10 на выбор;
прописать собранный рейд в конф, чтобы рейд собирался при загрузке;
создать GPT раздел и 5 партиций.

На проверку отправьте
измененный Vagrantfile,
скрипт для создания рейда,
конф для автосборки рейда при загрузке.
Обычно мы проверяем ДЗ в течение 48 часов.

Доп. задание*
Vagrantfile, который сразу собирает систему с подключенным рейдом и смонтированными разделами. После перезагрузки стенда разделы должны автоматически примонтироваться.

Задание повышенной сложности**
перенести работающую систему с одним диском на RAID 1. Даунтайм на загрузку с нового диска предполагается.

________________

## Что было сделано

1) Так как Vagrantfile приводил к ошибкам при попытке поднять ВМ на ubuntu, он был полностью переписан. В бокс было добавлено 5 дополнительлных дисков.
2) Для выполнения основной части задания была установлена сторонняя роль `mrlesmithjr.mdadm`. (С целью большей наглядности установка была осущетвлена в директорию проекта)

  Данная роль решает следующие задачи из ДЗ:

  - При подготовке ВМ осуществляет сборку RAID-массива
  - Создает файловую систему по выбору
  - Обеспечивает монтирование RAID-массива по выбранному пути (при этом модуль ansible `mount` также вносит изменеия в `/etc/fstab` монтирования массива)
  - Вносит изменения в `mdadm.conf` для обеспечения сохранения работоспособности массива после перезагруки

Данная роль также может быть использована для разбора RAID-массива, но данный функционал в задании не использовался.

3) Для создания GPT раздела и 5 партиций была написана таска `create partitions` с применением модуля `community.general.parted`. Разбиение на 5 партиций осуществляется в цикле со сдвигом начала и конца каждой партиции на 20%. Разбиение диска также осуществляется в момент провижининга ВМ.
